# 8.21 森林冰火人

## 实验任务

火人喜欢堆雪人。

已知火人在接下来的N天中，每天早上都会堆一个大小为vi的雪人。

但是火人的温度太高了！每天晚上，所有已存在的雪人的体积都会由于融化而减少ti（若雪人体积不足ti，则雪人体积融化至0）。

问，每天融化的总体积为多少？

## 数据输入

输入第一行为正整数N (1<=N<=10^5)

第二行为N个正整数vi (1<=vi<=10^5)，代表每天堆的雪人的体积。

第三行为N个正整数ti (1<=ti<=10^5)，表示每天雪人融化的体积。

对于80%的数据， 1<=N<=100

对于100%的数据， 1<=N<=10^5

## 数据输出

输出N个整数，代表每天融化的体积。（整数间以空格分隔）

## 输入示例

```cpp
3
10 10 5
5 7 2
```

## 输出示例

```cpp
5 12 4
```

## 代码

```cpp
#include <bits/stdc++.h>
using namespace std;

using ll = long long;

int main() {
    ios::sync_with_stdio(0);
    cin.tie(0);

    int N;
    if (!(cin >> N)) return 0;

    vector<ll> v(N + 1), t(N + 1), pre(N + 1);
    for (int i = 1; i <= N; i++) cin >> v[i];
    for (int i = 1; i <= N; i++) {
        cin >> t[i];
        pre[i] = pre[i - 1] + t[i];
    }

    vector<ll> diff(N + 3, 0), add(N + 3, 0);

    for (int i = 1; i <= N; i++) {
        ll target = pre[i - 1] + v[i];
        int d = lower_bound(pre.begin() + i, pre.begin() + N + 1, target) - pre.begin();
        if (d <= N) {
            diff[i] += 1;
            diff[d] -= 1;
            ll rest = v[i] - (pre[d - 1] - pre[i - 1]);
            add[d] += rest;
        } else {
            int D = N + 1;
            diff[i] += 1;
            diff[D] -= 1;
        }
    }

    vector<ll> cnt(N + 2, 0), ans(N + 1, 0);
    for (int i = 1; i <= N; i++) {
        cnt[i] = cnt[i - 1] + diff[i];
        ans[i] = cnt[i] * t[i] + add[i];
    }

    for (int i = 1; i <= N; i++) {
        cout << ans[i];
        if (i < N) cout << ' ';
    }
    cout << '\n';

    return 0;
}
```

[返回目录](../README.md)
